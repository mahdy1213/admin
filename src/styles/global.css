@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        scroll-behavior: smooth;
        font-family: 'Inter', system-ui, sans-serif;
    }

    body {
        @apply bg-white text-primary-800 dark:bg-primary-900 dark:text-primary-100;
        line-height: 1.6;
        background-image: radial-gradient(circle at 100% 0, rgba(0, 0, 0, 0.02), transparent 40%), radial-gradient(circle at 0 100%, rgba(0, 0, 0, 0.02), transparent 40%);
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-semibold text-primary-900 dark:text-white;
        line-height: 1.2;
    }

    h1 {
        @apply text-4xl md:text-5xl lg:text-6xl;
    }

    h2 {
        @apply text-3xl md:text-4xl;
    }

    h3 {
        @apply text-2xl md:text-3xl;
    }

    .skip-to-content {
        @apply absolute -top-40 left-6 z-50 bg-accent-600 text-white px-4 py-2 rounded;
        @apply focus:top-6 transition-all duration-300;
    }
}

@layer components {
    .btn {
        @apply inline-flex items-center justify-center px-6 py-3 text-base font-medium rounded-lg;
        @apply transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2;
        @apply transform hover:scale-105 active:scale-95;
    }

    .btn-primary {
        @apply btn bg-brand-gradient text-white shadow-medium hover:shadow-glow focus:ring-brand-500;
        @apply relative overflow-hidden;
    }

    .btn-primary::before {
        content: '';
        @apply absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent;
        @apply opacity-0 hover:opacity-20 transition-opacity duration-300;
        @apply transform -skew-x-12 -translate-x-full hover:translate-x-full;
        transition: transform 0.6s ease;
    }

    .btn-secondary {
        @apply btn border-2 border-brand-200 text-brand-700 hover:bg-brand-50 hover:border-brand-300;
        @apply dark:border-brand-700 dark:text-brand-300 dark:hover:bg-brand-900/20 dark:hover:border-brand-600;
        @apply backdrop-blur-sm;
    }

    .btn-outline {
        @apply btn border border-primary-300 text-primary-700 hover:bg-primary-50 hover:border-primary-400;
        @apply dark:border-primary-600 dark:text-primary-200 dark:hover:bg-primary-800/60;
    }

    .btn-ghost {
        @apply btn text-primary-700 hover:bg-primary-50;
        @apply dark:text-primary-200 dark:hover:bg-primary-800/60;
    }

    .btn-glass {
        @apply btn bg-white/10 backdrop-blur-md border border-white/20 text-white;
        @apply hover:bg-white/20 hover:border-white/30 shadow-glass;
    }

    .section-padding {
        @apply py-16 md:py-24 lg:py-32;
    }

    .container-width {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    .card {
        @apply bg-white dark:bg-primary-800/80 backdrop-blur-md rounded-xl shadow-soft border border-primary-200 dark:border-primary-700/50;
        @apply hover:shadow-medium hover:scale-[1.02] transition-all duration-300;
        @apply relative overflow-hidden;
    }

    .card::before {
        content: '';
        @apply absolute inset-0 bg-card-gradient opacity-0 hover:opacity-100 transition-opacity duration-300;
        @apply pointer-events-none;
    }

    .card-hover {
        @apply transition-shadow duration-300;
    }

    .card-hover:hover {
        @apply shadow-medium;
    }

    .dark .card-hover:hover {
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.25), 0 0 40px rgba(158, 0, 255, 0.18);
    }

    .card-glass {
        @apply bg-white/10 dark:bg-black/10 backdrop-blur-md rounded-xl shadow-glass border border-white/20;
        @apply hover:bg-white/20 dark:hover:bg-black/20 transition-all duration-300;
    }

    /* Gradient headings for strong web3 vibe (both themes). Add subtle shadow in light for readability */
    .gradient-text {
        background-image: linear-gradient(135deg, theme('colors.neon.cyan'), theme('colors.neon.purple'), theme('colors.neon.pink'));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    }

    .dark .gradient-text {
        text-shadow: none;
    }

    /* Monospace accent for geek vibe */
    .mono {
        font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, monospace;
    }

    .heading-underline {
        @apply relative inline-block;
    }

    .heading-underline::after {
        content: '';
        @apply block h-1 rounded-full mt-2 bg-accent-400/70;
        width: 120px;
        margin-left: auto;
        margin-right: auto;
    }

    .dark .heading-underline::after {
        background: linear-gradient(90deg, theme('colors.neon.cyan'), theme('colors.neon.purple'));
    }

    .glow-effect {
        @apply relative;
    }

    .glow-effect::before {
        content: '';
        background: radial-gradient(circle at 50% 50%, rgba(0, 229, 255, 0.35), rgba(158, 0, 255, 0.2), transparent 70%);
        @apply absolute -inset-1 rounded-lg blur opacity-40 -z-10 transition-opacity duration-300;
    }

    .glow-effect:hover::before {
        @apply opacity-70;
    }

    /* Animated neon border */
    .neon-border {
        position: relative;
        border-radius: 0.75rem;
        /* match rounded-lg */
        isolation: isolate;
    }

    .neon-border::after {
        content: '';
        position: absolute;
        inset: -2px;
        background: conic-gradient(from 0deg, theme('colors.neon.cyan'), theme('colors.neon.purple'), theme('colors.neon.pink'), theme('colors.neon.cyan'));
        border-radius: inherit;
        z-index: -1;
        animation: spin 6s linear infinite;
        mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        padding: 2px;
        opacity: .5;
    }

    .dark .neon-border::after {
        opacity: .85;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* Neon chips */
    .chip {
        @apply inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-full border backdrop-blur-sm transition;
    }

    .chip-cyan {
        color: #00E5FF;
        border-color: rgba(0, 229, 255, 0.35);
        background-color: rgba(0, 229, 255, 0.06);
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.15);
    }

    .chip-cyan:hover {
        box-shadow: 0 0 24px rgba(0, 229, 255, 0.35);
    }

    .chip-purple {
        color: #9E00FF;
        border-color: rgba(158, 0, 255, 0.35);
        background-color: rgba(158, 0, 255, 0.06);
        box-shadow: 0 0 20px rgba(158, 0, 255, 0.15);
    }

    .chip-purple:hover {
        box-shadow: 0 0 24px rgba(158, 0, 255, 0.35);
    }

    /* Badges */
    .badge {
        @apply inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold;
    }

    .badge-green {
        @apply bg-green-100 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800;
    }

    .badge-yellow {
        @apply bg-yellow-100 text-yellow-700 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800;
    }

    /* Tilt hover */
    .tilt-hover {
        transform-style: preserve-3d;
        transition: transform 300ms ease, box-shadow 300ms ease;
    }

    .tilt-hover:hover {
        transform: translateY(-6px) rotateX(1deg) rotateY(-1deg);
    }

    /* Section subtle neon bg */
    .section-surface {
        position: relative;
    }

    .section-surface::after {
        content: '';
        position: absolute;
        inset: 0;
        pointer-events: none;
        opacity: 0.12;
        background-image: radial-gradient(circle at 15% 20%, rgba(0, 229, 255, 0.10), transparent 45%),
            radial-gradient(circle at 85% 70%, rgba(158, 0, 255, 0.10), transparent 45%);
    }

    .dark .section-surface::after {
        opacity: 0.38;
    }

    /* Karate vibe */
    .karate-watermark {
        position: relative;
    }

    .karate-watermark::after {
        content: '空手';
        position: absolute;
        inset: 0;
        pointer-events: none;
        font-size: 28rem;
        font-weight: 700;
        line-height: 1;
        opacity: 0.02;
        color: #0f172a;
        /* slate-900 base */
        transform: rotate(-18deg) translate(10%, -10%);
        mix-blend-mode: multiply;
    }

    .dark .karate-watermark::after {
        color: #ffffff;
        opacity: 0.04;
        mix-blend-mode: screen;
    }

    /* Kyokushin specific watermark */
    .kyokushin-watermark {
        position: relative;
    }

    .kyokushin-watermark::before {
        content: '極真';
        position: absolute;
        left: 0;
        top: 0;
        pointer-events: none;
        font-size: 18rem;
        font-weight: 800;
        line-height: 1;
        opacity: 0.025;
        color: #0f172a;
        transform: rotate(-6deg) translate(-20%, -10%);
        mix-blend-mode: multiply;
    }

    .dark .kyokushin-watermark::before {
        color: #ffffff;
        opacity: 0.05;
        mix-blend-mode: screen;
    }

    .belt {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border;
    }

    .belt-white {
        @apply bg-white text-primary-700 border-primary-200;
    }

    .belt-yellow {
        background: #FACC15;
        color: #1f2937;
        border-color: #eab308;
    }

    .belt-orange {
        background: #FB923C;
        color: #1f2937;
        border-color: #f97316;
    }

    .belt-green {
        background: #22C55E;
        color: white;
        border-color: #16a34a;
    }

    .belt-blue {
        background: #3B82F6;
        color: white;
        border-color: #2563eb;
    }

    .belt-brown {
        background: #92400E;
        color: white;
        border-color: #78350f;
    }

    .belt-black {
        background: #0F172A;
        color: white;
        border-color: #111827;
    }

    .dojo-list {
        @apply grid gap-2 text-left max-w-2xl mx-auto;
    }

    .dojo-item {
        @apply flex items-start gap-2 text-primary-700 dark:text-primary-300;
    }

    .dojo-dot {
        @apply mt-1.5 w-2 h-2 rounded-full bg-accent-400;
    }
}

/* Selection and scrollbar */
::selection {
    background: rgba(20, 184, 166, 0.2);
    color: inherit;
}

/***** Scrollbar (webkit) *****/
*::-webkit-scrollbar {
    height: 10px;
    width: 10px;
}

*::-webkit-scrollbar-track {
    background: transparent;
}

*::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.4);
    border-radius: 8px;
}

*::-webkit-scrollbar-thumb:hover {
    background: rgba(100, 116, 139, 0.6);
}

/***** Scrollbar (Firefox) *****/
* {
    scrollbar-width: thin;
    scrollbar-color: rgba(100, 116, 139, 0.5) transparent;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.001ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.001ms !important;
        scroll-behavior: auto !important;
    }
}

/* Focus styles for accessibility */
@layer utilities {
    .focus-ring {
        @apply focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2;
        @apply dark:focus:ring-offset-primary-900;
    }
}

/* Enhanced animations */
.animate-stagger-1 {
    animation-delay: 0.1s;
    opacity: 0;
    animation-fill-mode: forwards;
}

.animate-stagger-2 {
    animation-delay: 0.2s;
    opacity: 0;
    animation-fill-mode: forwards;
}

.animate-stagger-3 {
    animation-delay: 0.3s;
    opacity: 0;
    animation-fill-mode: forwards;
}

.animate-stagger-4 {
    animation-delay: 0.4s;
    opacity: 0;
    animation-fill-mode: forwards;
}

.animate-stagger-5 {
    animation-delay: 0.5s;
    opacity: 0;
    animation-fill-mode: forwards;
}

/* Hover animations */
.hover-lift {
    @apply transition-transform duration-300 hover:-translate-y-2;
}

.hover-glow {
    @apply transition-shadow duration-300 hover:shadow-glow;
}

.hover-scale {
    @apply transition-transform duration-300 hover:scale-105;
}

/* Background patterns */
.bg-pattern-dots {
    background-image: radial-gradient(circle, rgba(59, 130, 246, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
}

.bg-pattern-grid {
    background-image: linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
}

/* Shimmer effect */
.shimmer {
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
}

/* Dark mode transition */
* {
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}
